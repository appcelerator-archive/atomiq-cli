{"version":3,"sources":["../../../src/lib/tasks/Make.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;AAGA,QAAQ,GAAR,CAAY,IAAZ,GAAmB,eAAK,IAAL,CAAU,eAAK,OAAL,CAAa,eAAK,IAAL,CAAU,SAAV,EAAqB,uBAArB,EAA8C,MAA9C,CAAb,IAC3B,eAAK,SAAL,GACA,QAAQ,GAAR,CAAY,IAAZ,CAFF;;AAIA,IAAM,YAAY;AAChB,OAAK,QAAQ,GAAR;AACL,SAAO,SAAP;CAFI;;IAKe;;;;;;;2BAEZ;AACL,WAAK,OAAL,GAAe,uBAAf,CADK;AAEL,WAAK,OAAL,CAAa,iBAAb,GAFK;;;;4BAKC;AACN,4BAAM,EAAN,CAAS,KAAT,EAAgB,QAAhB,EADM;;;;2BAID;AACL,4BAAM,OAAN,CAAc,KAAd,EAAqB,MAArB,EAA6B;AAC3B,iBAAS,IAAT;OADF,EAEG;eAAK,eAAK,OAAL,CAAa,CAAb,KAAmB,KAAnB;OAAL,CAFH,CADK;;;;4BAMC;AACN,4BAAM,SAAN,CAAgB,KAAhB,EAAuB,MAAvB;;;;;;AADM;;;4BASA;;;4BAIA;;;SA9BW","file":"Make.js","sourcesContent":["import Babel from '../BabelHelper';\nimport path from 'path';\nimport Project from '../Project';\nimport Shell from '../ShellHelper';\n\n// include node_modules/.bin in path, just like 'npm run' scripts\nprocess.env.PATH = path.join(path.resolve(path.join(__dirname, '../../../node_modules', '.bin')) +\n  path.delimiter +\n  process.env.PATH);\n\nconst spawnopts = {\n  env: process.env,\n  stdio: 'inherit'\n};\n\nexport default class Make {\n\n  init() {\n    this.project = new Project();\n    this.project.checkValidProject();\n  }\n\n  clean() {\n    Shell.rm('-rf', './dist');\n  }\n\n  dist() {\n    Shell.copyDir('src', 'dist', {\n      recurse: true\n    }, f => path.extname(f) != '.js');\n  }\n\n  babel() {\n    Babel.transform('src', 'dist');\n    /*\n    if (!options.local) {\n      spawnSync('docker-compose', ['build'], spawnopts);\n    }\n    */\n  }\n\n  image() {\n\n  }\n\n  build() {\n\n  }\n}\n"]}